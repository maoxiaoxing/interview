<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>简单动画</title>
    <style>
        *{
            padding: 0;
            margin: 0;
        }
        button{
            margin: 10px;
        }
        div{
            width: 100px;
            height: 100px;
            background: red;
            margin:30px 0 0 0;
            position: absolute;
        }
    </style>
</head>
<body>
<button>200</button>
<button>400</button>
<div></div>

<script>
    var btn1 = document.getElementsByTagName("button")[0];
    var btn2 = document.getElementsByTagName("button")[1];
    var box = document.getElementsByTagName("div")[0];
    var timer;

    btn1.onclick = function () {
        // timer = setInterval(function () {
        //     var left = box.offsetLeft;
        //     if(left>=200){
        //     box.style.left = 200+"px";
        //     clearInterval(timer);
        //     return;
        //     }
        //     box.style.left = left + 3 + "px";
        // },20)
        run(box,200);
    }

    btn2.onclick = function () {
        // timer = setInterval(function () {
        //     var left = box.offsetLeft;
        //     if(left>=400){
        //         box.style.left = 400+"px";
        //         clearInterval(timer);
        //         return;
        //     }
        //     box.style.left = left + 3 + "px";
        // },20)
        run(box,400);
    }

    function run(ele,left) {
        clearInterval(timer);
        timer = setInterval(function () {
            var nowleft = box.offsetLeft;
            var temp = 0;
            nowleft>left ?temp = -3:temp = 3;
            if(Math.abs(nowleft-left) < temp){
                clearInterval(timer);
                ele.style.left = left + "px";

            }else {
                ele.style.left = nowleft + temp + "px";
            }
            },20)

    }




</script>

</body>
</html>