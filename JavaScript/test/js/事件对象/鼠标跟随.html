<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>鼠标跟随</title>
    <style>
        img{
            width: 100px;
            position: absolute;
            top:0px;
            left:0px;
        }
        body,html{
            padding: 0;
            margin: 0;
            width: 100%;
            height: 200%;
            background: #B3B3B3;
        }
    </style>
</head>
<body>
<img src="img.jpg">

<script>
    var img = document.getElementsByTagName("img")[0];
    var body = document.getElementsByTagName("body")[0];
    var timer;

    body.onclick = function () {
        var event = event || window.event;
        var targetX = event.pageX - 50;
        var targetY = event.pageY  - 30;
        clearInterval(timer);
        run(img,targetX,targetY);
    }

    function run(ele,targetX,targetY) {
        timer = setInterval(function () {
            var nowX = img.offsetLeft;
            var nowY = img.offsetTop;

            var speedX = (targetX-nowX)/10;
            var speedY = (targetY-nowY)/10;

            speedX = speedX>0 ? Math.ceil(speedX) : Math.floor(speedX);
            speedY = speedY>0 ? Math.ceil(speedY) : Math.floor(speedY);

            img.style.left =nowX + speedX + "px";
            img.style.top = nowY + speedY + "px";

            if(Math.abs(targetX-(nowX+speedX))<=Math.abs(speedX) && Math.abs(targetY-(nowY+speedY))<=Math.abs(speedY)){
                console.log("1");
                clearInterval(timer);
            }
        },20)
    }

    function fun() {
        return {
            "top": window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop,
            "left": window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft
        }
    }

</script>

</body>
</html>