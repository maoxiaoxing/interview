<script>

  const arr = [1, [1, 2, 3], [4, [5, 6], 7], 8, [9, [10, [11, [12], 13]]]]

  function flat(array) {
    return array.reduce((pre, item) => {
      if (Array.isArray(item)) {
        return pre.concat(flat(item))
      } else {
        return pre.concat(item)
      }
    }, [])
  }

  function flat1(_arr) {
    while(_arr.some((item) => Array.isArray(item))) {
      _arr = [].concat(..._arr)
    }
    return _arr
  }

  console.log(flat1(arr))

  // console.log(flat(arr))

</script>