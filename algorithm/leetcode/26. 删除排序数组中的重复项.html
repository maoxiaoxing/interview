<script>
  // 给定一个排序数组，你需要在 原地 删除重复出现的元素，使得每个元素只出现一次，返回移除后数组的新长度。
  // 不要使用额外的数组空间，你必须在 原地 修改输入数组 并在使用 O(1) 额外空间的条件下完成。

  /**
  * @param {number[]} nums
  * @return {number}
  */
  // var removeDuplicates = function(nums) {
  //   let i = 0

  //   while (i < nums.length) {
  //     if (nums[i] === nums[i+1]) {
  //       nums.splice(i+1, 1)
  //     } else {
  //       i++
  //     }
  //   }
  //   return nums.length
  // }

  var removeDuplicates = function(nums) {
    let readIndex = 1
    let writeIndex = 0
    
    while (readIndex < nums.length) {
      if (nums[writeIndex] !== nums[readIndex]) {
        writeIndex++
        const temp = nums[writeIndex]
        nums[writeIndex] = nums[readIndex]
        nums[readIndex] = temp
      }
      readIndex++
    }
    return writeIndex + 1
  }

  const nums = [0,0,1,1,1,2,2,3,3,4]
  console.log(removeDuplicates(nums))

</script>